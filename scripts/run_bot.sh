#!/bin/bash

# Скрипт для запуска Telegram-бота в фоновом режиме

# Проверка наличия виртуального окружения
if [ ! -d "venv" ]; then
    echo "Виртуальное окружение не найдено. Запустите setup.sh для установки."
    exit 1
fi

# Активация виртуального окружения
source venv/bin/activate

# Создание директории для логов
mkdir -p logs

# Запуск бота в фоновом режиме с перенаправлением вывода в лог-файл
echo "Запуск бота в фоновом режиме..."
nohup python main.py > logs/bot.log 2>&1 &

# Сохранение PID процесса
echo $! > bot.pid
echo "Бот запущен с PID: $(cat bot.pid)"
echo "Логи доступны в файле: logs/bot.log" 