# Беклог задач для дальнейшей разработки

## Улучшения Mistral API интеграции

### Улучшение обработки форматов API

**Описание:** Создание универсального адаптера для различных форматов API (OpenAI-совместимый и llama.cpp)

**Обоснование:** В текущей системе для взаимодействия с разными API (OpenAI, llama.cpp) используются разные форматы запросов и ответов, что приводит к дублированию кода и усложнению поддержки. Универсальный адаптер позволит абстрагировать различия между API и упростить интеграцию новых моделей.

**Предлагаемые изменения:**
1. Создать базовый интерфейс `BaseAPIAdapter`
2. Реализовать адаптеры для разных API форматов (`OpenAIAdapter`, `LlamaCppAdapter`)
3. Добавить фабрику адаптеров для автоматического выбора правильного адаптера
4. Модифицировать `model_service_client.py` для использования адаптеров

**Приоритет:** Средний

**Сложность:** Средняя

**Запланировано на:** Q2 2025 (следующий спринт)

### Расширенное логирование запросов и ответов API

**Описание:** Добавление подробного логирования запросов и ответов для упрощения отладки

**Обоснование:** Текущее логирование не включает полное содержимое запросов и ответов, что затрудняет отладку при возникновении проблем. Расширенное логирование позволит быстрее диагностировать ошибки и понимать причины сбоев.

**Предлагаемые изменения:**
1. Добавить детальное логирование всех параметров запросов
2. Логировать полные ответы от API (с возможностью маскирования конфиденциальной информации)
3. Создать механизм для переключения уровня детализации логов
4. Настроить ротацию и архивирование логов

**Приоритет:** Низкий

**Сложность:** Низкая

**Запланировано на:** Q2 2025 (следующий спринт)

### Система мониторинга доступности Mistral API

**Описание:** Реализация системы мониторинга доступности API для оперативного реагирования на проблемы

**Обоснование:** Текущая система не имеет автоматического мониторинга доступности API, что приводит к задержкам в обнаружении проблем. Система мониторинга позволит быстро выявлять сбои и автоматически предпринимать корректирующие действия.

**Предлагаемые изменения:**
1. Создать сервис мониторинга, который будет регулярно проверять доступность API
2. Настроить отправку уведомлений при недоступности API
3. Реализовать автоматическое переключение на резервные экземпляры
4. Добавить панель мониторинга для отслеживания доступности в реальном времени

**Приоритет:** Средний

**Сложность:** Средняя

**Запланировано на:** Q2 2025 (следующий спринт)

---

*Примечание: Эти задачи были добавлены в беклог после обсуждения 14 марта 2025 года. В текущем спринте приоритет отдается стабилизации существующей системы и подготовке к интеграции с Gemma 3.* 