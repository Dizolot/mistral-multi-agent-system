# ะะพะบัะผะตะฝัะฐัะธั ะฟะพ ะธะฝัะตััะตะนัั ัะปัััะตะฝะธั ะบะพะดะฐ ะฒ Telegram-ะฑะพัะต

## ะะฑะทะพั

`CodeImproverUI` - ััะพ ะผะพะดัะปั, ะพะฑะตัะฟะตัะธะฒะฐััะธะน ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน Telegram-ะฑะพัะฐ ั ะฐะณะตะฝัะพะผ ัะปัััะตะฝะธั ะบะพะดะฐ. ะะพะดัะปั ะฟัะตะดะพััะฐะฒะปัะตั ะธะฝัะตััะตะนั ะดะปั ะฐะฝะฐะปะธะทะฐ, ะฟัะตะดะปะพะถะตะฝะธั ัะปัััะตะฝะธะน ะธ ะฟัะธะผะตะฝะตะฝะธั ะธัะฟัะฐะฒะปะตะฝะธะน ะบ ะบะพะดั, ะพัะฟัะฐะฒะปะตะฝะฝะพะผั ะฟะพะปัะทะพะฒะฐัะตะปะตะผ ัะตัะตะท Telegram.

## ะััะธัะตะบัััะฐ

ะะพะดัะปั ะฟะพัััะพะตะฝ ะฟะพ ะฟัะธะฝัะธะฟั ะผะธะบัะพัะตัะฒะธัะฝะพะน ะฐััะธัะตะบัััั ะธ ะธะฝัะตะณัะธััะตััั ั ัััะตััะฒัััะตะน ัะธััะตะผะพะน ัะตัะตะท ัะปะตะดัััะธะต ะบะพะผะฟะพะฝะตะฝัั:

1. **CodeImproverUI** - ะพัะฝะพะฒะฝะพะน ะบะปะฐัั, ะพะฑัะฐะฑะฐััะฒะฐััะธะน ะทะฐะฟัะพัั ะพั ะฟะพะปัะทะพะฒะฐัะตะปะตะน Telegram
2. **CodeImprovementAgent** - ะฐะณะตะฝั ะดะปั ะฐะฝะฐะปะธะทะฐ ะธ ัะปัััะตะฝะธั ะบะพะดะฐ
3. **ModelServiceClient** - ะฐะดะฐะฟัะตั ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะผะพะดะตะปัั Mistral

```
โโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโ
โ                 โ      โ                      โ      โ                   โ
โ  Telegram Bot   โโโโโโโถโ   CodeImproverUI     โโโโโโโถโCodeImprovementAgentโ
โ                 โ      โ                      โ      โ                   โ
โโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโ
                                   โ                            โ
                                   โ                            โ
                                   โผ                            โผ
                         โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโโโโโโโ
                         โ                  โ        โ                    โ
                         โ ModelServiceClientโโโโโโโโโถโ   Mistral API     โ
                         โ                  โ        โ   139.59.241.176:8080โ
                         โโโโโโโโโโโโโโโโโโโโ        โโโโโโโโโโโโโโโโโโโโโโ
```

## ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

### ะะพะผะฐะฝะดั ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน

ะะพะดัะปั ะดะพะฑะฐะฒะปัะตั ัะปะตะดัััะธะต ะบะพะผะฐะฝะดั ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน Telegram-ะฑะพัะฐ:

1. `/analyze` - ะฐะฝะฐะปะธะทะธััะตั ะบะพะด ะฑะตะท ะฒะฝะตัะตะฝะธั ะธะทะผะตะฝะตะฝะธะน
2. `/suggest` - ะฟัะตะดะปะฐะณะฐะตั ัะปัััะตะฝะธั ะดะปั ัะฐะฝะตะต ะฟัะพะฐะฝะฐะปะธะทะธัะพะฒะฐะฝะฝะพะณะพ ะบะพะดะฐ
3. `/improve` - ะฐะฝะฐะปะธะทะธััะตั ะธ ัะปัััะฐะตั ะบะพะด ะพะดะฝะธะผ ะดะตะนััะฒะธะตะผ
4. `/diff` - ะฟะพะบะฐะทัะฒะฐะตั ัะฐะทะฝะธัั ะผะตะถะดั ะพัะธะณะธะฝะฐะปัะฝัะผ ะธ ัะปัััะตะฝะฝัะผ ะบะพะดะพะผ

### ะคะพัะผะฐั ะฒะทะฐะธะผะพะดะตะนััะฒะธั

ะะปั ะพัะฟัะฐะฒะบะธ ะบะพะดะฐ ะฝะตะพะฑัะพะดะธะผะพ ะธัะฟะพะปัะทะพะฒะฐัั ัะพัะผะฐั ั ััะพะนะฝัะผะธ ะพะฑัะฐัะฝัะผะธ ะบะฐะฒััะบะฐะผะธ ะธ ัะบะฐะทะฐะฝะธะตะผ ัะทัะบะฐ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั:

```
/analyze ```python
def example():
    print("Hello, World!")
```

ะะปะธ ะฑะตะท ัะบะฐะทะฐะฝะธั ัะทัะบะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั ะฑัะดะตั ะธัะฟะพะปัะทะพะฒะฐะฝ Python):

```
/improve ```
def example():
    print("Hello, World!")
```
```

### ะะฝัะตัะฐะบัะธะฒะฝัะต ัะปะตะผะตะฝัั

ะะพัะปะต ะฐะฝะฐะปะธะทะฐ ะบะพะดะฐ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟัะตะดะพััะฐะฒะปััััั ะธะฝัะตัะฐะบัะธะฒะฝัะต ะบะฝะพะฟะบะธ ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ัะปะตะดัััะธั ะดะตะนััะฒะธะน:

1. ะะพัะปะต ะบะพะผะฐะฝะดั `/analyze` - ะบะฝะพะฟะบะฐ "ะัะตะดะปะพะถะธัั ัะปัััะตะฝะธั"
2. ะะพัะปะต ะบะพะผะฐะฝะดั `/suggest` - ะบะฝะพะฟะบะฐ "ะัะธะผะตะฝะธัั ัะปัััะตะฝะธั"

## ะะฝัะตะณัะฐัะธั ั ัะธััะตะผะพะน

### ะะฝะธัะธะฐะปะธะทะฐัะธั

ะะปั ะธะฝัะตะณัะฐัะธะธ ะผะพะดัะปั ั ัััะตััะฒัััะธะผ Telegram-ะฑะพัะพะผ ะฝะตะพะฑัะพะดะธะผะพ:

1. ะะผะฟะพััะธัะพะฒะฐัั ะบะปะฐัั `CodeImproverUI` ะธะท ะผะพะดัะปั `telegram_bot.code_improver_ui`
2. ะกะพะทะดะฐัั ัะบะทะตะผะฟะปัั `CodeImproverUI` ั ะฐะดะฐะฟัะตัะพะผ ะผะพะดะตะปะธ ะธ ะบะพะฝัะธะณััะฐัะธะตะน
3. ะะฐัะตะณะธัััะธัะพะฒะฐัั ะพะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด ะธ ะบะพะปะฑัะบะพะฒ

ะัะธะผะตั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ:

```python
from telegram_bot.code_improver_ui import CodeImproverUI
from telegram_bot.model_service_client import ModelServiceClient

# ะกะพะทะดะฐะตะผ ะฐะดะฐะฟัะตั ะผะพะดะตะปะธ
model_adapter = ModelServiceClient(config={
    "MODEL_NAME": "mistral-small",
    "MISTRAL_API_URL": "http://139.59.241.176:8080"
})

# ะกะพะทะดะฐะตะผ ัะบะทะตะผะฟะปัั ะธะฝัะตััะตะนัะฐ ัะปัััะตะฝะธั ะบะพะดะฐ
code_improver_ui = CodeImproverUI(
    model_adapter=model_adapter,
    config={"agent_config": {"temperature": 0.7, "max_context_length": 8000}}
)

# ะะตะณะธัััะธััะตะผ ะพะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด
application.add_handler(CommandHandler("analyze", analyze_code))
application.add_handler(CommandHandler("suggest", suggest_improvements))
application.add_handler(CommandHandler("improve", improve_code))
application.add_handler(CommandHandler("diff", show_diff))
application.add_handler(CallbackQueryHandler(handle_callback_query))
```

### ะะฐะฒะธัะธะผะพััะธ

ะะปั ัะฐะฑะพัั ะผะพะดัะปั ะฝะตะพะฑัะพะดะธะผั ัะปะตะดัััะธะต ะบะพะผะฟะพะฝะตะฝัั:

1. `python-telegram-bot` ะฒะตััะธะธ 20.0 ะธะปะธ ะฒััะต
2. `src.agents.code_improvement_agent` - ะผะพะดัะปั ะฐะณะตะฝัะฐ ัะปัััะตะฝะธั ะบะพะดะฐ
3. `src.agents.code_analyzer` - ะผะพะดัะปั ะฐะฝะฐะปะธะทะฐัะพัะฐ ะบะพะดะฐ
4. `src.agents.code_transformer` - ะผะพะดัะปั ััะฐะฝััะพัะผะฐัะพัะฐ ะบะพะดะฐ
5. ะะพัััะฟ ะบ Mistral API ัะตัะตะท HTTP

## ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะะฝะฐะปะธะท ะบะพะดะฐ

```
/analyze ```python
def calculate_factorial(n):
    result = 1
    for i in range(1, n + 1):
        result *= i
    return result
```
```

ะะตะทัะปััะฐั:
```
๐ ะะตะทัะปััะฐัั ะฐะฝะฐะปะธะทะฐ ะบะพะดะฐ ะฝะฐ ัะทัะบะต python:

๐ ะะตััะธะบะธ ะบะพะดะฐ:
- ะัะตะฝะบะฐ ัะปะพะถะฝะพััะธ: 3.50/10
- ะะฝะดะตะบั ะฟะพะดะดะตัะถะธะฒะฐะตะผะพััะธ: 75.20/100

โ๏ธ ะััะฒะปะตะฝะฝัะต ะฟัะพะฑะปะตะผั (1):
1. ะััััััะฒัะตั ะฟัะพะฒะตัะบะฐ ะฝะฐ ะพััะธัะฐัะตะปัะฝัะต ะทะฝะฐัะตะฝะธั n

๐ก ะัะตะดะปะพะถะตะฝะธั ะฟะพ ัะปัััะตะฝะธั (2):
1. ะะพะฑะฐะฒะธัั ะฒะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั
2. ะะพะฑะฐะฒะธัั ะดะพะบัะผะตะฝัะฐัะธั ะบ ััะฝะบัะธะธ
```

### ะฃะปัััะตะฝะธะต ะบะพะดะฐ

```
/improve ```python
def calculate_factorial(n):
    result = 1
    for i in range(1, n + 1):
        result *= i
    return result
```
```

ะะตะทัะปััะฐั:
```
โ ะะพะด ััะฟะตัะฝะพ ัะปัััะตะฝ!

ะัะปะพ ะฒััะฒะปะตะฝะพ ะฟัะพะฑะปะตะผ: 1
ะัะปะพ ะฟัะตะดะปะพะถะตะฝะพ ัะปัััะตะฝะธะน: 2

ะฃะปัััะตะฝะฝัะน ะบะพะด:
```python
def calculate_factorial(n):
    """
    ะััะธัะปัะตั ัะฐะบัะพัะธะฐะป ัะธัะปะฐ n.
    
    Args:
        n: ะะตะพััะธัะฐัะตะปัะฝะพะต ัะตะปะพะต ัะธัะปะพ
        
    Returns:
        ะคะฐะบัะพัะธะฐะป ัะธัะปะฐ n
        
    Raises:
        ValueError: ะัะปะธ n ะพััะธัะฐัะตะปัะฝะพะต
    """
    if n < 0:
        raise ValueError("ะคะฐะบัะพัะธะฐะป ะพะฟัะตะดะตะปะตะฝ ัะพะปัะบะพ ะดะปั ะฝะตะพััะธัะฐัะตะปัะฝัั ัะธัะตะป")
    
    result = 1
    for i in range(1, n + 1):
        result *= i
    return result
```

ะงัะพะฑั ัะฒะธะดะตัั ะฟะพะดัะพะฑะฝัะน ะฐะฝะฐะปะธะท, ะธัะฟะพะปัะทัะนัะต ะบะพะผะฐะฝะดั /analysis
```

## ะะธะผะธัั ะธ ะพะณัะฐะฝะธัะตะฝะธั

1. ะะฐะบัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ะบะพะดะฐ ะดะปั ะฐะฝะฐะปะธะทะฐ: 4096 ัะธะผะฒะพะปะพะฒ (ะพะณัะฐะฝะธัะตะฝะธะต Telegram)
2. ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะทัะบะธ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั: Python, JavaScript, TypeScript, Java, C++, C#, PHP, Go, Rust, Ruby
3. ะัะตะผั ะฐะฝะฐะปะธะทะฐ ะธ ัะปัััะตะฝะธั ะบะพะดะฐ ะทะฐะฒะธัะธั ะพั ัะฐะทะผะตัะฐ ะธ ัะปะพะถะฝะพััะธ ะบะพะดะฐ, ะฐ ัะฐะบะถะต ะดะพัััะฟะฝะพััะธ Mistral API

## ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: ะัะธะฑะบะฐ ะฟัะธ ะฐะฝะฐะปะธะทะต ะบะพะดะฐ

**ะกะธะผะฟัะพะผ:** ะะพั ะพัะฒะตัะฐะตั ัะพะพะฑัะตะฝะธะตะผ ะพะฑ ะพัะธะฑะบะต ะฟัะธ ะฒัะฟะพะปะฝะตะฝะธะธ ะบะพะผะฐะฝะดั `/analyze` ะธะปะธ `/improve`.

**ะะตัะตะฝะธะต:** 
1. ะัะพะฒะตัััะต ะดะพัััะฟะฝะพััั Mistral API ะฟะพ ะฐะดัะตัั http://139.59.241.176:8080
2. ะฃะฑะตะดะธัะตัั, ััะพ ะบะพะด ะฟัะฐะฒะธะปัะฝะพ ะพััะพัะผะฐัะธัะพะฒะฐะฝ ะธ ะพะบััะถะตะฝ ััะพะนะฝัะผะธ ะพะฑัะฐัะฝัะผะธ ะบะฐะฒััะบะฐะผะธ
3. ะัะพะฒะตัััะต ะปะพะณะธ ะฒ ัะฐะนะปะต `logs/code_improver_ui.log`

### ะัะพะฑะปะตะผะฐ: ะะธะทะบะพะต ะบะฐัะตััะฒะพ ัะปัััะตะฝะธะน ะบะพะดะฐ

**ะกะธะผะฟัะพะผ:** ะัะตะดะปะพะถะตะฝะธั ะฟะพ ัะปัััะตะฝะธั ะบะพะดะฐ ะฝะต ัะฒะปััััั ะฟะพะปะตะทะฝัะผะธ ะธะปะธ ัะพะดะตัะถะฐั ะพัะธะฑะบะธ.

**ะะตัะตะฝะธะต:**
1. ะะพะฟัะพะฑัะนัะต ะธะทะผะตะฝะธัั ะฟะฐัะฐะผะตัั `temperature` ะฒ ะบะพะฝัะธะณััะฐัะธะธ ะฐะณะตะฝัะฐ
2. ะัะตะดะพััะฐะฒััะต ะฑะพะปะตะต ะฟะพะดัะพะฑะฝัะน ะบะพะฝัะตะบัั ะฟัะธ ะพัะฟัะฐะฒะบะต ะบะพะดะฐ
3. ะัะฟะพะปัะทัะนัะต ะบะพะผะฐะฝะดั `/analyze` ะดะปั ะฟะพะปััะตะฝะธั ะฑะพะปะตะต ะฟะพะดัะพะฑะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ ะฟัะพะฑะปะตะผ
``` 